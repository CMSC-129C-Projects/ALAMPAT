<div class="container has-text-centered" id="login">
    <p class="title is-size-3 is-family-primary has-text-success-dark mb-5">
    Log In
    </p>
    
</div>

<div class="columns is-mobile is-centered">
    <form [formGroup]="loginForm" (ngSubmit)="login()" class="box" style="width: 450px" novalidate autocomplete="false">
    <div *ngIf="userService.showErrorMessage" class = "notification is-danger is-light has-text-centered">
        Invalid email and/or password. Please try again.
    </div>
    <div class="field">
        <label class="label">Email</label>
        <div class="control has-icons-left">  
            <input [ngClass]="{ 'has-error': formControls.email?.errors }" class="input" placeholder="e.g. erlito@example.com" formControlName="email" type="email" required> 
            <span class="icon is-small is-left">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                    <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z"/>
                </svg>
                <i class="bi bi-envelope-fill"></i>
            </span>
            <div *ngIf="submitted || (formControls.email?.touched || formControls.email?.dirty) && formControls.email?.errors" class="help is-danger">
                <div *ngIf="formControls.email?.errors?.required">Email is required</div>
                <div *ngIf="formControls.email?.errors?.pattern">Email is invalid</div>
            </div>
        </div>      
    </div>

    <div class="field">
        <label class="label">Password</label>
        <div class="control has-icons-left">
            
            <input [ngClass]="{'has-error': formControls.password?.errors }" class="input" placeholder="********" formControlName="password" type="password" required>
            <span class="icon is-small is-left">
                <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-key-fill" viewBox="0 0 16 16">
                    <path d="M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                </svg>
                <i class="bi bi-key-fill"></i>
            </span>  
            <div *ngIf="submitted || (formControls.password?.touched || formControls.password?.dirty) && formControls.password?.errors" class="help is-danger">
                <div *ngIf="formControls.password?.errors?.required">Password is required</div>
                <div *ngIf="formControls.password?.errors?.pattern">Password should contain a minimum of 8 characters with at least 1 number, 1 uppercase letter and 1 symbol</div>
            </div>
        </div>
    </div>

    

    <div class="field is-grouped is-grouped-right">
        <div class="control">
        <button (onClick) ="login()" class="button is-hovered is-success is-outlined" value="Log in" type="submit">
            LOG IN
        </button>
    </div>
    </div>
    </form>
</div>