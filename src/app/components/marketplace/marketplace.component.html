<style>
  .my-pagination /deep/ .ngx-pagination .current {
    background: rgb(67, 236, 194);
    margin: 10px;
  }
</style>

<app-headerbuyer></app-headerbuyer>

<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<!--
<div class="hero">
  <div class="columns is-mobile pb-4 mb-1">
    <div class="column is-10 is-offset-1">
      <div class="card-container">
        <div class="title is-family-primary has-icons-left">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="30"
            height="30"
            fill="currentColor"
            class="bi bi-shop"
            viewBox="0 0 16 16"
          >
            <path
              d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z"
            />
          </svg>
          Marketplace
        </div>
      </div>
    </div>
  </div>
</div>
-->
<div class="hero-body is-paddingless">
  <!-- Category, Search Bar, Cart -->
  <div class="columns pt-5 has-background-success-light">
    <div class="column is-1"></div>
    <div class="column is-one-fifth">
      <div class="level-right">
        <div class="level-item">
          <p>Category:</p>
        </div>
        <!--
                <div class="control">
                    <button class="button is-primary has-text-weight-medium is-static">
                        Categorize
                    </button>
                </div> -->
        <div class="control">
          <div class="select is-fullwidth">
            <select
              name="category"
              id="category"
              (change)="
                Categorizeby($event);
                select.value = '';
                minfield.value = '';
                maxfield.value = '';
                searchword.value = ''
              "
              [value]="curr_category.value"
            >
              <option value="All">All Items</option>
              <option value="Product">Products Only</option>
              <option value="Commission">Commissions Only</option>
            </select>
          </div>
        </div>
      </div>
    </div>
    <div class="column is-centered is-6 mr-6 pr-5">
      <div class="field has-addons">
        <p class="control is-expanded">
          <input
            [value]="word.value"
            class="input"
            #searchword
            type="text"
            placeholder="What are you looking for?"
          />
        </p>
        <p class="control">
          <a
            class="button is-warning has-text-weight-bold"
            (click)="
              onResetsearch();
              select.value = '';
              searchItem(searchword.value);
              minfield.value = '';
              maxfield.value = ''
            "
          >
            Search
          </a>
        </p>
      </div>
    </div>
    <!-- CART and RESERVATION anchors-->
    <div class="column is-narrow">
      <a title="Cart">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          fill="currentColor"
          class="bi bi-cart4"
          viewBox="0 0 16 16"
        >
          <path
            d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"
          />
        </svg>
      </a>
      &nbsp; &nbsp; &nbsp; &nbsp;
      <a title="Reservations">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="28"
          height="28"
          fill="currentColor"
          class="bi bi-clipboard-data"
          viewBox="0 0 16 16"
        >
          <path
            d="M4 11a1 1 0 1 1 2 0v1a1 1 0 1 1-2 0v-1zm6-4a1 1 0 1 1 2 0v5a1 1 0 1 1-2 0V7zM7 9a1 1 0 0 1 2 0v3a1 1 0 1 1-2 0V9z"
          />
          <path
            d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"
          />
          <path
            d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"
          />
        </svg>
      </a>
    </div>
  </div>

  <!-- FILTER PANEL -->
  <div class="columns is-centered has-background-success-light pb-4">
    <div class="column is-narrow mr-6">
      <p class="text has-text-weight-bold">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="14"
          height="14"
          fill="currentColor"
          class="bi bi-funnel-fill"
          viewBox="0 0 16 16"
        >
          <path
            d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"
          />
        </svg>
        SEARCH FILTER
      </p>
    </div>

    <div class="column is-narrow">
      <p class="text has-text-right">Price Range</p>
    </div>

    <div class="column has-text-centered is-2">
      <div class="field has-addons">
        <p class="control is-expanded">
          <input
            [value]="pmin.value"
            (input)="price_min = $event.target"
            #minfield
            class="form-control"
            class="input is-small"
            type="number"
            min="0"
            placeholder="Min Price"
          />
        </p>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="32"
          height="32"
          fill="currentColor"
          class="bi bi-arrow-right-short"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"
          />
        </svg>
        <p class="control is-expanded">
          <input
            [value]="pmax.value"
            (input)="price_max = $event.target"
            #maxfield
            class="form-control"
            class="input is-small"
            type="number"
            min="0"
            placeholder="Max Price"
          />
        </p>
      </div>
    </div>
    <div class="column is-narrow mr-6">
      <button
        class="button is-link is-light is-outlined is-small has-text-weight-bold"
        (click)="ApplyPrice()"
      >
        Apply
      </button>
    </div>

    <div class="column is-narrow">
      <p class="text has-text-right">Sort By:</p>
    </div>
    <div class="column is-2 mr-6">
      <div class="select is-small is-fullwidth">
        <select [value]="sort_ord.value" #select (change)="ChooseSort($event)">
          <option value="" hidden>--Select Choice--</option>
          <option value="A-Z">Alphabetical (Asc.)</option>
          <option value="Z-A">Alphabetical (Desc.)</option>
          <option value="H-L">Price (High to Low)</option>
          <option value="L-H">Price (Low to High)</option>
        </select>
      </div>
    </div>
    <div class="column is-narrow">
      <button
        class="button is-small is-danger has-text-weight-bold"
        (click)="
          minfield.value = '';
          select.value = '';
          maxfield.value = '';
          searchword.value = '';
          load_wholemarket();
          resetFilter()
        "
        id="reset"
      >
        Reset All Filters
      </button>
    </div>
  </div>

<!-- Products and Commissions -->
<!-- SUGGESSTION: -->
<!-- Item Name adn Description should only be limited to a number of characters -->
<!-- to preserve the length of the item card, so it would look clean -->
<div class="column is-10 is-offset-1 pt-5">
  <div class="columns is-multiline is-mobile">
    <div
      class="column is-3"
      *ngFor="
        let item of marketdata
          | paginate
            : {
                id: 'listing_pagination',
                itemsPerPage: 12,
                currentPage: page,
                totalItems: totalRecords
              }
      "
    >
      <div class="card">
        <a (click)="ViewItem(item)" class="card-image">
          <figure class="image is-3by2">
            <div *ngIf="item.images?.imageBase64">
              <img class="object-fit_cover" [src]="item.images.imageBase64" />
          </div>
            <div *ngIf="!item.images?.imageBase64">
              <img class="object-fit_cover"  src= "assets/noimg.png" alt="">
            </div>
          </figure>
        </a>
        <div class="card-footer">
          <div class="tags has-addons">
            <div
              class="tag is-link is-light has-text-weight-bold is-small"
              *ngIf="item.category == 'Product'"
            >
              Product
            </div>
            <div
              class="tag is-danger is-light has-text-weight-bold is-small"
              *ngIf="item.category == 'Commission'"
            >
              Commission
            </div>
            <!--
                        <a class="tag is-light has-text-weight-bold is-small" >
                            {{item.sellername}}
                        </a>
                        -->
          </div>
        </div>
        <div class="card-content" style="padding: 0.5rem 1.5rem 1.5rem">
          <p class="text has-text-weight-bold" readonly>
            {{ item.itemname }}
          </p>
          <p
            class="text has-text-primary is-size-5 has-text-weight-bold"
            readonly
          >
            ₱ {{ item.price }}
          </p>

          <!--
                    <div class="content">
                        {{item.description}}
                    </div>
                    <div class="content is-size-5 has-text-centered" readonly>
                             starchecked makes star orange
                             star rating must be based on a value
                            <span class="fa fa-star starchecked"></span>
                            <span class="fa fa-star "></span>
                            <span class="fa fa-star "></span>
                            <span class="fa fa-star"></span>
                            <span class="fa fa-star"></span>
                            &nbsp;
                             Number of People who have rated this item 
                            <div class="tag is-warning is-medium has-text-weight-semibold">
                                420&nbsp;
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                                  </svg>
                            </div>
                    </div> -->
        </div>
      </div>
    </div>
  </div>

  <!--<div class="column is-3">
            <div class="card"> 
                <a class="card-image">
                    <figure class="image is-3by2">
                        <img class="object-fit_cover" src="https://bsmedia.business-standard.com/media-handler.php?mediaPath=https://bsmedia.business-standard.com/_media/bs/img/article/2021-04/02/full/1617310379-2869.jpg&width=1200" alt="">
                    </figure>
                </a>
                <div class="card-footer">
                    <div class="tags has-addons">
                        <div class="tag is-link is-light has-text-weight-bold is-small">
                            Product
                        </div>
                        <a class="tag is-light has-text-weight-bold is-small">
                            Seller Name
                        </a>
                    </div>
                </div>
                <div class="card-content" style="padding: .5rem 1.5rem 1.5rem">
                    <p class="text has-text-primary is-size-5 has-text-weight-bold" readonly>
                        ₱ 956.77
                    </p>
                    <p class="text has-text-weight-bold" readonly>
                        Product Name
                    </p>
                    <div class="content">
                        Product Description
                    </div>
                    <div class="content is-size-5 has-text-centered" readonly>
                        
                        <span class="fa fa-star starchecked"></span>
                        <span class="fa fa-star starchecked "></span>
                        <span class="fa fa-star starchecked "></span>
                        <span class="fa fa-star"></span>
                        <span class="fa fa-star"></span>
                        &nbsp;
                        
                        <div class="tag is-warning is-medium has-text-weight-semibold">
                            0&nbsp;
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
                                <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                              </svg>
                        </div>
                </div>
                </div>
            </div>
        </div>-->
</div>
<!-- </div> -->
<!-- Pagination -->
<section class="section is-centered">
  <nav
    class="pagination is-centered is-small is-rounded"
    role="navigation"
    aria-label="pagination"
  >
    <!-- <ul class="pagination-list">
      <li><a class="pagination-previous">Previous</a></li>
      <li>
        <a
          class="pagination-link is-current"
          aria-label="Page 1"
          aria-current="page"
          >1</a
        >
      </li>
      <li><a class="pagination-link" aria-label="Goto page 2">2</a></li>
      <li><a class="pagination-link" aria-label="Goto page 3">3</a></li>
      <li><a class="pagination-next">Next page</a></li>
    </ul> -->
    <div class="buttons">
      <pagination-controls
        class="my-pagination"
        id="listing_pagination"
        previousLabel=""
        nextLabel=""
        [maxSize]="5"
        [directionLinks]="true"
        (pageChange)="page = $event"
      ></pagination-controls>
    </div>
  </nav>
  <!-- <div>
    
  </div> -->
</section>



<app-footer></app-footer>
